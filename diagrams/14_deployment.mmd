%%{init: {'theme': 'dark'}}%%
flowchart TB
    subgraph GitHub["ğŸ“‚ GitHub Repositories"]
        BackendRepo["afftok-backend-prod"]
        AdminRepo["afftok-admin-prod"]
        MobileRepo["afftok-mobile-prod"]
    end

    subgraph Railway["ğŸš‚ Railway"]
        BackendDeploy["Backend API<br/>Go/Gin"]
        AdminDeploy["Admin Panel<br/>React/TS"]
    end

    subgraph Domain["ğŸŒ Domains"]
        TrackDomain["go.afftokapp.com"]
        AdminDomain["admin.afftokapp.com"]
        APIDomain["api.afftokapp.com"]
    end

    subgraph Services["â˜ï¸ External Services"]
        Neon[("ğŸ˜ Neon<br/>PostgreSQL")]
        RedisLabs[("ğŸ”´ RedisLabs<br/>Redis")]
        IPAPI["ğŸŒ ip-api.com<br/>GeoIP"]
        ImgBB["ğŸ–¼ï¸ ImgBB<br/>Images"]
    end

    subgraph Mobile["ğŸ“± Mobile Build"]
        Android["ğŸ¤– Android APK"]
        iOS["ğŸ iOS IPA"]
    end

    BackendRepo -->|Auto Deploy| BackendDeploy
    AdminRepo -->|Auto Deploy| AdminDeploy
    MobileRepo --> Android & iOS

    BackendDeploy --> TrackDomain & APIDomain
    AdminDeploy --> AdminDomain

    BackendDeploy --> Neon & RedisLabs & IPAPI
    AdminDeploy --> Neon

